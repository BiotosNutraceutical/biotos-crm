:root{
  --bg:#07130e; --panel:#0c2319; --panel2:#0a1c15; --muted:#b7d9ca; --text:#f6fffa;
  --accent:#0b8f5c; --accent-2:#10b97a; --line:#1a563b; --danger:#ff6b6b; --ok:#28d07e;
  --nav-h:52px; --maxw:1100px;
  --focus: rgba(16,185,122,.42);
}
[data-theme="light"]{
  --bg:#f7fbf8; --panel:#ffffff; --panel2:#f3f7f4; --muted:#3b5b4b; --text:#0b2017; --line:#d9e8df;
  --accent:#0b8f5c; --accent-2:#087e52; --focus: rgba(11,143,92,.32);
}
[data-theme="hc"]{
  --bg:#000; --panel:#000; --panel2:#000; --muted:#eafff6; --text:#fff; --line:#3ddc97; --accent:#3ddc97; --accent-2:#aaffcc;
  --focus:#3ddc97;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);
  font:16px/1.55 -apple-system,BlinkMacSystemFont,system-ui,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
.hidden{display:none!important}
a{color:inherit;text-decoration:none}
.wrap{max-width:var(--maxw);margin:0 auto;padding:8px 12px 10px}

header{position:sticky;top:0;background:var(--bg);border-bottom:1px solid rgba(23,86,59,.35);
  z-index:50;padding-top:calc(2px + env(safe-area-inset-top))}
h1{font-size:16px;margin:0;display:flex;align-items:center;gap:8px}
h1 img{width:22px;height:22px;border-radius:6px;border:1px solid var(--line);background:#fff}
.savebadge{margin-left:auto;font-size:11px;color:#bfe5cf}
.profilebadge{margin-left:10px;font-size:12px;color:#a5e9cb;opacity:.95}
.topbar{display:flex;gap:8px;align-items:center;margin:6px 0}

input,select,textarea{width:100%;background:var(--panel2);color:var(--text);border:1px solid var(--line);
  border-radius:12px;padding:10px;min-height:40px}
input:focus,select:focus,textarea:focus,.btn:focus{outline:2px solid var(--focus); outline-offset:1px}
label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}

.btn{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);background:#103024;color:var(--text);
  padding:9px 11px;border-radius:12px;cursor:pointer;min-height:38px}
.btn.primary{border-color:var(--accent);background:linear-gradient(180deg, rgba(11,143,92,.22), rgba(11,143,92,.12))}
.btn.ghost{background:transparent}

.grid{display:grid;gap:8px}
.pan{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:10px}
.row{display:flex;gap:8px;flex-wrap:wrap}
.row>*{flex:1 1 260px}
.cards{display:grid;gap:8px}
.card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:10px;display:flex;gap:10px}
.card .main{flex:1;min-width:0}
.card .title{font-weight:800;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.card .meta{font-size:13px;color:#cfe8dc}

.chips{display:flex;gap:6px;flex-wrap:wrap;margin:4px 0}
.chip{border:1px solid var(--line);background:var(--panel2);padding:4px 8px;border-radius:999px;font-size:12px}
.chip.on{border-color:var(--accent);background:rgba(11,143,92,.14)}

.bottomnav{position:fixed;left:0;right:0;bottom:0;height:var(--nav-h);background:var(--bg);border-top:1px solid var(--line);
  display:flex;gap:6px;align-items:center;padding:4px env(safe-area-inset-right) calc(6px + env(safe-area-inset-bottom)) env(safe-area-inset-left);
  overflow-x:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;z-index:45}
.bottomnav::-webkit-scrollbar{display:none}
.bottomnav a{flex:0 0 auto;border:1px solid var(--line);background:var(--panel2);padding:6px 10px;border-radius:10px;
  min-height:36px;font-size:13px;display:inline-flex;align-items:center;gap:6px}
.bottomnav a.active{border-color:var(--accent);background:rgba(11,143,92,.18)}
@media (max-width:430px){ .bottomnav a span.label{display:none} .bottomnav a{min-width:52px;justify-content:center} }

main{padding-bottom:calc(var(--nav-h) + 16px)}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:calc(var(--nav-h) + 18px + env(safe-area-inset-bottom));
  background:#0f2e22;border:1px solid var(--line);padding:8px 12px;border-radius:12px;z-index:70;display:none}
.toast.show{display:block}

.sheet{position:fixed;inset:0;display:none;background:rgba(0,0,0,.5);z-index:60}
.sheet.open{display:block}
.sheet .panel{position:absolute;left:0;right:0;bottom:0;background:#0c2219;border-top-left-radius:16px;border-top-right-radius:16px;border:1px solid var(--line);
  padding:10px 10px calc(12px + env(safe-area-inset-bottom));max-height:90vh;overflow:auto}

.smallgap{margin-top:4px}
